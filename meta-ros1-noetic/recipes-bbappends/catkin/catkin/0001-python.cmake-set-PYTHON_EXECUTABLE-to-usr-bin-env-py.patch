From 79cfae40f784079e9b1090befebd888da09fc65b Mon Sep 17 00:00:00 2001
From: Martin Jansa <martin.jansa@lge.com>
Date: Tue, 10 Nov 2020 05:17:32 -0800
Subject: [PATCH] python.cmake set PYTHON_EXECUTABLE to /usr/bin/env
 python{ROS_PYTHON_VERSION}

Upstream-Status: Pending

---
 cmake/python.cmake | 5 +++++
 1 file changed, 5 insertions(+)

diff --git a/cmake/python.cmake b/cmake/python.cmake
index c72b8599..de90e671 100644
--- a/cmake/python.cmake
+++ b/cmake/python.cmake
@@ -36,3 +36,8 @@ else()
   set(PYTHON_INSTALL_DIR lib/${PYTHON_PACKAGES_DIR}
     CACHE INTERNAL "This needs to be in PYTHONPATH when 'setup.py install' is called.  And it needs to match.  But setuptools won't tell us where it will install things.")
 endif()
+
+# overwrite PYTHON_EXECUTABLE set by PythonInterp which points to native sysroot like:
+# /jenkins/mjansa/build/ros/ros1-noetic-dunfell/tmp-glibc/work/core2-64-oe-linux/catkin/0.8.8-1-r0/recipe-sysroot-native/usr/bin/python3-native/python3
+# with something which works both in build time on build host and runtime on target
+set(PYTHON_EXECUTABLE "/usr/bin/env python${PYTHON_VERSION}")
